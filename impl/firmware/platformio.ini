; === 共通設定 (全員に適用) ===
[env]
monitor_speed = 115200

; === 1. いつもの本番環境 (C3 - Seeed Xiao) ===
; 普段の開発はこれを選びます
[env:seeed_xiao_esp32c3_main]
platform = espressif32
board = seeed_xiao_esp32c3
framework = arduino
; 本番で使うライブラリはここに書く
lib_deps = 
    h2zero/NimBLE-Arduino
    fbiego/ESP32Time
; main.cpp だけをビルドする設定
build_src_filter = +<main.cpp>

; === 2. テスト送信機 (C3 - Seeed Xiao) ===
; 車に載せる送信テスト用
[env:c3_sender_test]
platform = espressif32
board = seeed_xiao_esp32c3 ; ボード名をXiaoに合わせました
framework = arduino
; テストにNimBLEは不要なのでライブラリは空でOK
; test_sender_c3.cpp だけをビルド
build_src_filter = +<test_sender_c3.cpp>

; === 3. テスト受信機 (ESP8266) ===
; 手に持って歩く受信テスト用
[env:8266_receiver_test]
platform = espressif8266
board = esp12e ; お持ちのボードに合わせて(nodemcuv2など)
framework = arduino
; ESP8266にNimBLEを入れるとエラーになるので、ここには書かない
; test_receiver_8266.cpp だけをビルド
build_src_filter = +<test_receiver_8266.cpp>